# ğŸ…ğŸ»CH4.íšŒì› ê´€ë¦¬ ì˜ˆì œğŸ…ğŸ»

## ğŸ˜‹ë°±ì—”ë“œ ê°œë°œ ë§›ë³´ê¸°ğŸ˜‹ 
1. [ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ì •ë¦¬](#ğŸ-ë¹„ì§€ë‹ˆìŠ¤-ìš”êµ¬ì‚¬í•­-ì •ë¦¬ğŸ)  
2. [íšŒì› ë„ë©”ì¸ê³¼ ë¦¬í¬ì§€í† ë¦¬ ë§Œë“¤ê¸°](#ğŸ-íšŒì›-ë„ë©”ì¸ê³¼-ë¦¬í¬ì§€í† ë¦¬-ë§Œë“¤ê¸°ğŸ)  
3. [íšŒì› ë¦¬í¬ì§€í† ë¦¬ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±](#ğŸ-íšŒì›-ë¦¬í¬ì§€í† ë¦¬-í…ŒìŠ¤íŠ¸-ì¼€ì´ìŠ¤-ì‘ì„±ğŸ)  
4. [íšŒì› ì„œë¹„ìŠ¤ ê°œë°œ](#ğŸ-íšŒì›-ì„œë¹„ìŠ¤-ê°œë°œğŸ)  
5. [íšŒì› ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸](#ğŸ-íšŒì›-ì„œë¹„ìŠ¤-í…ŒìŠ¤íŠ¸ğŸ)  


### ğŸ ë¹„ì§€ë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ì •ë¦¬ğŸ

* ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ì •ë¦¬  
    * ë°ì´í„°: íšŒì›ID, ì´ë¦„  
    * ê¸°ëŠ¥: íšŒì› ë“±ë¡, ì¡°íšŒ  
        * ì•„ì§ ë°ì´í„° ì €ì¥ì†Œê°€ ì„ ì •ë˜ì§€ ì•ŠìŒ  

* ì¼ë°˜ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ êµ¬ì¡°  
    ![image](https://user-images.githubusercontent.com/77817094/173293312-aeea17a1-2bbc-4c53-8f8c-2b5e126a4af0.png)  
    * ì»¨íŠ¸ë¡¤ëŸ¬: ì›¹ MVCì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ì—­í• , APIë§Œë“¤ë•Œë„  
    * ì„œë¹„ìŠ¤: ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ êµ¬í˜„ë˜ì–´ ìˆìŒ 
        * ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ê°ì²´ë¥¼ ê°€ì§€ê³  ê·¸ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ê³„ì¸µ   
    * ë¦¬í¬ì§€í† ë¦¬: ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼, ë„ë©”ì¸ ê°ì²´ë¥¼ DBì— ì €ì¥í•˜ê³  ê´€ë¦¬  
    * ë„ë©”ì¸: ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ê°ì²´  
        * ì˜ˆ) íšŒì›, ì£¼ë¬¸, ì¿ í° ë“±ë“± ì£¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ê´€ë¦¬ë¨    

* í´ë˜ìŠ¤ ì˜ì¡´ê´€ê³„  
    ![image](https://user-images.githubusercontent.com/77817094/173294250-06909cc1-9cac-41fb-87ae-f8bd797d6872.png)  
    ```
    * ê°œë°œì„ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œ ì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” êµ¬í˜„ì²´ë¡œ ê°€ë²¼ìš´ ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ ë°ì´í„° ì €ì¥ì†Œ ì‚¬ìš©  

    * ì•„ì§ ë°ì´í„° ì €ì¥ì†Œê°€ ì„ ì •ë˜ì§€ ì•Šì•„ì„œ, ìš°ì„  ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„  
     -> ë‚˜ì¤‘ì— êµ¬ì²´ì ì¸ ê¸°ìˆ ì´ ì„ ì •ì´ ë˜ë©´ ë°”ê¿” ë¼ìš¸ ìˆ˜ ìˆê²Œ interface ì •ì˜í•¨.  

    * ë°ì´í„° ì €ì¥ì†ŒëŠ” RDB, NoSQL ë“±ë“± ë‹¤ì–‘í•œ ì €ì¥ì†Œë¥¼ ê³ ë¯¼ì¤‘ì¸ ìƒí™©ìœ¼ë¡œ ê°€ì •
    ```
### ğŸ íšŒì› ë„ë©”ì¸ê³¼ ë¦¬í¬ì§€í† ë¦¬ ë§Œë“¤ê¸°ğŸ  

> 1. íšŒì› ë§Œë“¤ê³   
> 3. ê·¸ íšŒì›ë“¤ ì €ì¥í•˜ëŠ” repository ë©”ëª¨ë¦¬ ë§Œë“¤ê³   
> 2. ë‚˜ì¤‘ì„ ìœ„í•´ì„œ repository ì¸í„°í˜ì´ìŠ¤ ë§Œë“¤ê³ !  
> ëâ€¼


â˜ğŸ». domain íŒ¨í‚¤ì§€ì— íšŒì› class ìƒì„± - ê°ì²´  
![image](https://user-images.githubusercontent.com/77817094/174017489-61440d1a-cf39-460a-9307-de951b85b753.png)  
    
```java
package hello.hellospring.domain;

public class Member {

    private Long id;
    //ì‹œìŠ¤í…œì´ ì •í•´ì£¼ëŠ”ê±°
    private String name;
    //íšŒì›ì´ ë¡œê·¸ì¸í• ë•Œ ì ëŠ”ê±°
    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}

```

âœŒğŸ». íšŒì› repository interface ìƒì„±   
![image](https://user-images.githubusercontent.com/77817094/174018506-9ef55c43-0d0c-40e1-81bb-f69b67c0960a.png)  

```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;

import java.util.List;
import java.util.Optional;

public interface MemberRepository {
    Member save (Member member);
    //ì €ì¥ëœ íšŒì› ë°˜í™˜
    Optional<Member> findById(Long id);
    //idë¡œ íšŒì›ì°¾ëŠ” ê¸°ëŠ¥
    //optionalì€ ìë°”8ì— ë“¤ì–´ê°„ ê¸°ëŠ¥ - idê°€ nullì¸ ê²½ìš°ë¥¼ ìœ„í•´
    Optional<Member> findByName(String name);
    //nameìœ¼ë¡œ íšŒì›ì°¾ëŠ” ê¸°ëŠ¥
    List<Member> findAll();
    //ì§€ê¸ˆê¹Œì§€ ì €ì¥í•œ ëª¨ë“  íšŒì›ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•´ì¤Œ
}
```   

ğŸ‘ŒğŸ». íšŒì› repository ë©”ëª¨ë¦¬ ìƒì„±(êµ¬í˜„)   
![image](https://user-images.githubusercontent.com/77817094/174019234-5196ed8c-eef3-4283-ab4f-4c2d3df9c708.png)   
```java
package hello.hellospring.repository;

import hello.hellospring.domain.Member;

import java.util.*;

//ë’¤ì— implements MemberRepository ì“°ê³  Alt+Enter ëˆ„ë¥´ë©´
//implement method í•  ìˆ˜ ìˆìŒ. (ë’¤ì— override) ì¬ë„¤ ìƒê¹€.
public class MemoryMemberRepository implements MemberRepository {

    private static Map<Long, Member> store = new HashMap<>();
    //ì €ì¥í•  ê³³ = map
    //ì‹¤ë¬´ì—ì„œëŠ” í•´ì‰¬ë§µ ë™ì‹œì„±ë¬¸ì œë•œì— ì˜ ì•ˆì“°ê¸´ í•¨.
    private static long sequence = 0L;
    //ì‹œí€€ìŠ¤ëŠ” 0,1,2ì´ëŸ°ì‹ìœ¼ë¡œ í‚¤ê°’ ì €ì¥í•´ì£¼ëŠ” ì• ë¼ê³  ë³´ë©´ë¨

    @Override
    public Member save(Member member) {
        member.setId(++sequence);
        //sequence ê°’ ì˜¬ë ¤ì¤˜ì„œ id ì„¸íŒ…í•´ì¤Œ
        store.put(member.getId(), member);
        //ìŠ¤í† ì–´ì— ì €ì¥í•˜ë©´ map ì— ì €ì¥ë¨.
        return member;
    }

    @Override
    public Optional<Member> findById(Long id) {
        return Optional.ofNullable(store.get(id));
        //ì›ë˜ store.get(id)ì¸ë°, null ì´ ë°˜í™˜ë  ê°€ëŠ¥ì„±ì´ ìˆì–´ì„œ
        // Optional.ofNullable()ë¡œ ê°ì‹¸ì¤Œ.
    }

    @Override
    public Optional<Member> findByName(String name) {
        return store.values().stream()
                .filter(member -> member.getName().equals(name))
                .findAny();
        //findAny()ì˜ ê²°ê³¼ê°€ optional ë¡œ ë°˜í™˜ë¨.
        //ë§µì—ì„œ ëŒë©´ì„œ ì´ë¦„ ê°’ì€ì•  ì°¾ê³  ëª»ì°¾ìœ¼ë©´ ë„ê°’ì´ í¬í•¨ë˜ë©´ì„œ ë°˜í™˜
    }

    @Override
    public List<Member> findAll() {
        return new ArrayList<>(store.values());
        //ìŠ¤í† ì–´ì— ìˆëŠ” ë©¤ë²„ë“¤ì„ ë°˜í™˜í•¨.
    }
}
```   

### ğŸ íšŒì› ë¦¬í¬ì§€í† ë¦¬ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±ğŸ  

### ğŸ íšŒì› ì„œë¹„ìŠ¤ ê°œë°œğŸ

### ğŸ íšŒì› ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ğŸ
